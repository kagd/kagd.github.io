<!DOCTYPE html><html ng-app="kagd"><head><script src="https://use.typekit.net/ola6uac.js"></script><script>try{Typekit.load({ async: true });}catch(e){}</script><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><title>Grant R. Klinsing  - Javascript Object Key Transformation Helpers</title><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/articles/feed.xml" /><link href="/stylesheets/application.css" rel="stylesheet" /><link href="/stylesheets/syntax_highlighter/monokai.css" rel="stylesheet" /><link href="/images/favicon.ico" rel="icon" type="image/ico" /><script src="/javascripts/vendor.js"></script></head><body class="articles articles_2015 articles_2015_09 articles_2015_09_25 articles_2015_09_25_javascript-object-key-transformation-helpers" menu-classes=""><div class="grid-frame"><div class="grid-block vertical"><div class="grid-block shrink"><header class="title-bar dark"><div class="title left"><a class="brand" href="/"><img alt="Grant Klinsing" src="/images/logo.svg" /></a></div><div class="right"><nav><ul><li class="menu"><a menu-button=""><span>Menu</span><div class="bars"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div></a></li><li class="articles"><a href="/posts.html"><i class="fa fa-book"></i><span>/ Articles</span></a></li><li class="github"><a href="http://github.com/kagd" target="_blank"><i class="fa fa-github"></i><span>/ kagd</span></a></li><li class="twitter"><a href="http://twitter.com/gklinsing" target="_blank"><i class="fa fa-twitter"></i><span>/ @gklinsing</span></a></li><li class="stack-overflow"><a href="http://careers.stackoverflow.com/gklinsing" target="_blank"><i class="fa fa-stack-overflow"></i><span>/ gklinsing</span></a></li></ul></nav></div></header></div><section class="grid-block" id="main" role="main"><div class="grid-block align-center"><div class="grid-content large-8 article-content"><div class="article-header"><a class="tag" href="/articles/tags/javascript.html"><img src="/images/javascript.svg" /></a><h1>Javascript Object Key Transformation Helpers</h1><div class="date"> <span>2015 /</span>  <span>September 25</span> </div></div><div class="article-body"><p>There are multiple times when I get data back from the server that is snake_case
and I need it to be camelCase in my Javascript. Here are a couple of helpers I
use to transform Javascript keys.</p>

<p></p>

<p>I should note that these helpers are using lodash and an object called StringHelpers
to manipulate the keys.</p>

<p>Here is the StringHelpers module</p>

<pre><code class="prettyprint lang-coffee">StringHelpers =
  # Capitalize the first letter of the string
  capitalize: (word) -&gt;
    word.charAt(0).toUpperCase() + word.slice(1)

  # Convert the first char to lowercase
  uncapitalize: (word) -&gt;
    word.charAt(0).toLowerCase() + word.slice(1)

  # Titleize a string
  ## foo_bar =&gt; Foo Bar
  ## BarFoo =&gt; Bar Foo
  titleize: (string) -&gt;
    cleanTitle = string.replace(/[ \-_]+/g, &#39; &#39;);
    words = cleanTitle.replace(/([A-Z])/g, &quot; $&amp;&quot;).trim().split(&#39; &#39;)
    capitalizedWords = words.map (word) -&gt;
      capitalize(word)

    capitalizedWords.join(&#39; &#39;)

  # Converts CamelCase to snake_case
  ## FooBar =&gt; foo_bar
  ## fooBar =&gt; foo_bar
  underscore: (string) -&gt;
    newString = string.replace /([A-Z])/g, ($1) -&gt;
      &quot;_#{ $1.toLowerCase() }&quot;
    newString.replace(/^_/, &#39;&#39;).replace(/-/g, &#39;_&#39;)
</code></pre>

<h2>Convert JS Object Keys to Camel Case (camelCase)</h2>

<pre><code class="prettyprint lang-coffee">objectKeysToCamelCase = (object) -&gt;
  newObj = null

  if _.isArray(object)
    newObj = object.map (item) -&gt;
      objectKeysToCamelCase item

  else if _.isObject(object)
    newObj = {}
    _.forEach object, (value, key) -&gt;
      newKey = StringHelpers.uncapitalize(StringHelpers.titleize(key).replace(/\s+/g,&#39;&#39;))
      newObj[newKey] = objectKeysToCamelCase(value)

  else
    newObj = object

  return newObj
</code></pre>

<h2>Convert JS Object Keys to Snake Case (snake_case)</h2>

<pre><code class="prettyprint lang-coffee">objectKeysToSnakeCase = (object) -&gt;
  newObj = null

  if _.isArray(object)
    newObj = object.map (item) -&gt;
      objectKeysToSnakeCase item

  else if _.isObject(object)
    newObj = {}
    _.forEach object, (value, key) -&gt;
      newKey = StringHelpers.underscore(key).replace(/\s+/g,&#39;&#39;)
      newObj[newKey] = objectKeysToSnakeCase(value)

  else
    newObj = object

  return newObj
</code></pre>

<h2>And All Together in Angular Modules</h2>

<pre><code class="prettyprint lang-coffee"># Lodash Module
angular.module(&#39;lodash&#39;, [])
  .factory &#39;_&#39;, -&gt;
    window._

# StringHelpers Module
StringHelpers = -&gt;
  # Capitalize the first letter of the string
  capitalize = (word) -&gt;
    word.charAt(0).toUpperCase() + word.slice(1)

  # Convert the first char to lowercase
  uncapitalize = (word) -&gt;
    word.charAt(0).toLowerCase() + word.slice(1)

  # Titleize a string
  ## foo_bar =&gt; Foo Bar
  ## BarFoo =&gt; Bar Foo
  titleize = (string) -&gt;
    cleanTitle = string.replace(/[ \-_]+/g, &#39; &#39;);
    words = cleanTitle.replace(/([A-Z])/g, &quot; $&amp;&quot;).trim().split(&#39; &#39;)
    capitalizedWords = words.map (word) -&gt;
      capitalize(word)

    capitalizedWords.join(&#39; &#39;)

  # Converts CamelCase to snake_case
  ## FooBar =&gt; foo_bar
  ## fooBar =&gt; foo_bar
  underscore = (string) -&gt;
    newString = string.replace /([A-Z])/g, ($1) -&gt;
      &quot;_#{ $1.toLowerCase() }&quot;
    newString.replace(/^_/, &#39;&#39;).replace(/-/g, &#39;_&#39;)

  return {
    capitalize: capitalize
    uncapitalize: uncapitalize
    titleize: titleize
    underscore: underscore
  }

angular.module(&#39;stringHelpers&#39;, [])
  .factory &#39;StringHelpers&#39;, StringHelpers

# StringHelpers Module
JsonHelpers = (StringHelpers, _) -&gt;

  objectKeysToCamelCase = (object) -&gt;
    newObj = null

    if _.isArray(object)
      newObj = object.map (item) -&gt;
        objectKeysToCamelCase item

    else if _.isObject(object)
      newObj = {}
      _.forEach object, (value, key) -&gt;
        newKey = StringHelpers.uncapitalize(StringHelpers.titleize(key).replace(/\s+/g,&#39;&#39;))
        newObj[newKey] = objectKeysToCamelCase(value)

    else
      newObj = object

    return newObj

  objectKeysToSnakeCase = (object) -&gt;
    newObj = null

    if _.isArray(object)
      newObj = object.map (item) -&gt;
        objectKeysToSnakeCase item

    else if _.isObject(object)
      newObj = {}
      _.forEach object, (value, key) -&gt;
        newKey = StringHelpers.underscore(key).replace(/\s+/g,&#39;&#39;)
        newObj[newKey] = objectKeysToSnakeCase(value)

    else
      newObj = object

    return newObj

  return {
    objectKeysToCamelCase: objectKeysToCamelCase,
    objectKeysToSnakeCase: objectKeysToSnakeCase
  }

angular.module(&#39;jsonHelpers&#39;, [&#39;stringHelpers&#39;, &#39;lodash&#39;])
  .factory &#39;JsonHelpers&#39;, JsonHelpers

JsonHelpers.$inject = [&#39;StringHelpers&#39;, &#39;_&#39;]
</code></pre>
<div id="disqus_thread"></div><script>/* * * CONFIGURATION VARIABLES * * */
var disqus_shortname = 'kagdgithubio';
var disqus_identifier = 'javascript-object-key-transformation-helpers';
var disqus_title = 'Javascript Object Key Transformation Helpers';
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></div></section></div></div><div class="mobile-menu"><ul><li class="articles"><a href="/posts.html"><i class="fa fa-book"></i><span>/ Articles</span></a></li><li class="github"><a href="http://github.com/kagd" target="_blank"><i class="fa fa-github"></i><span>/ kagd</span></a></li><li class="twitter"><a href="http://twitter.com/gklinsing" target="_blank"><i class="fa fa-twitter"></i><span>/ @gklinsing</span></a></li><li class="stack-overflow"><a href="http://careers.stackoverflow.com/gklinsing" target="_blank"><i class="fa fa-stack-overflow"></i><span>/ gklinsing</span></a></li></ul></div><script src="/javascripts/application.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-67203020-1', 'auto');
ga('send', 'pageview');</script></body></html>