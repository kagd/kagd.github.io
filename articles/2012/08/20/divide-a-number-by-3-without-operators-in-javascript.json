{"id":"/articles/2012/08/20/divide-a-number-by-3-without-operators-in-javascript","title":"Divide a Number by 3 Without Operators in Javascript","date":"2012-08-20 05:15 MDT","tags":"javascript, code golf","content":"<p>Code Golf**: show off your code-fu by trying to solve coding problems using the least number of keystrokes.</p>\n<p>All to often, as developers can become complacent and bored with our work situation. From my own experience, this usually corresponds with doing the same thing over and over again without any challenges. I love challenges and brain teasers to keep me sharp, and I am always trying to do something that keeps me on my toes.</p>\n<p>READMORE</p>\n<p>The last problem presented to me was that of a popular code golf problem, divide a number by 3, without using any mathematical operators. Meaning, no minus (-), plus (+), multiply(*), and/or divide (/). The original problem was limited to just those operators but I decided to take it a bit further, no bitwise (&lt;&lt;).</p>\n<p>I had to think about this problem for quite a while before proceeding with a solution. The only thing that I could think of was, &quot;This has to be accomplished with string manipulation&quot;. After pondering it a while further, I realized that string manipulation was only the first part of the solution, arrays was the second.</p>\n<p>In order for us to do any kind of mathematics, we need to have something that we can manipulate and count. For each digit in the number, we have to create an array representation for it. Assume that we have the number 132, we need to have 132 entries in the array.</p>\n<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">n</span> = 132;\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">total</span> = [];\n<span class=\"hljs-keyword\">while</span>(<span class=\"hljs-keyword\">total</span>.length &lt; <span class=\"hljs-keyword\">n</span>){\n  <span class=\"hljs-keyword\">total</span>.push(<span class=\"hljs-string\">\"1\"</span>);\n}\nend\n</code></pre>\n<p>Next, split the total array into thirds. We need to do this to find out how many times it can be divided. To accomplish this, convert the array to a string and use a regular expression to grab 3 characters <code>/\\w{3}/</code>. When the loop is done, we have an array with each entry having three characters. Example [&quot;111&quot;,&quot;111&quot;,&quot;111&quot;, etc...]</p>\n<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">var</span> triples = [];\n<span class=\"hljs-keyword\">var</span> temp = total.join(<span class=\"hljs-string\">\"\"</span>);\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">match</span> = temp.<span class=\"hljs-keyword\">match</span>(/\\d{<span class=\"hljs-number\">3</span>}/);\n<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-keyword\">match</span>) {\n  triples.push(<span class=\"hljs-keyword\">match</span>[<span class=\"hljs-number\">0</span>]);\n  temp = temp.replace(<span class=\"hljs-keyword\">match</span>[<span class=\"hljs-number\">0</span>], <span class=\"hljs-string\">\"\"</span>);\n  <span class=\"hljs-keyword\">match</span> = temp.<span class=\"hljs-keyword\">match</span>(/\\w{<span class=\"hljs-number\">3</span>}/)\n}\n</code></pre>\n<p>The last piece is to combine what we have into the end number. First, let&#39;s find out how many characters were not caught by our regex. Using String.substr and the <code>triples</code> array, we can find out how many characters were not grabbed.</p>\n<pre><code class=\"hljs js\"><span class=\"hljs-built_in\">var</span> remaining = count.substr(triples.<span class=\"hljs-built_in\">join</span>(<span class=\"hljs-string\">\"\"</span>).<span class=\"hljs-built_in\">length</span>);\n</code></pre>\n<p>Based on how many digits remain, we can determine what the float will be. When you divide a number by 3, you can only have 3 possible solutions for the float: 0, 3 or 6;</p>\n<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">if</span> (remaining<span class=\"hljs-selector-class\">.length</span> == <span class=\"hljs-number\">2</span>) <span class=\"hljs-attribute\">float</span> = <span class=\"hljs-number\">6</span>;\n<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (remaining<span class=\"hljs-selector-class\">.length</span> == <span class=\"hljs-number\">1</span>) <span class=\"hljs-attribute\">float</span> = <span class=\"hljs-number\">3</span>;\n</code></pre>\n<p>Lastly, create the float. <code>triples.length</code> gets us the whole number and <code>float</code> is the 0,3 or 6. It seems weird to use an array to create the number but rememer, we can use a plus (+).</p>\n<pre><code class=\"hljs js\"><span class=\"hljs-built_in\">return</span> <span class=\"hljs-built_in\">parseFloat</span>([triples.length, <span class=\"hljs-keyword\">float</span>].join(<span class=\"hljs-string\">'.'</span>));\n</code></pre>\n<p>And, the final solution.</p>\n<pre><code class=\"hljs js\"><span class=\"hljs-built_in\">var</span> divideBy3 = function(n) {\n  <span class=\"hljs-built_in\">var</span> total = [];\n  <span class=\"hljs-built_in\">var</span> <span class=\"hljs-built_in\">float</span> = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">while</span>(total.<span class=\"hljs-built_in\">length</span> &lt; n){\n    total.<span class=\"hljs-built_in\">push</span>(<span class=\"hljs-string\">\"1\"</span>);\n  }\n  <span class=\"hljs-built_in\">var</span> triples = [];\n  <span class=\"hljs-built_in\">var</span> count = temp = total.<span class=\"hljs-built_in\">join</span>(<span class=\"hljs-string\">\"\"</span>);\n  <span class=\"hljs-built_in\">var</span> match = temp.match(/\\d{<span class=\"hljs-number\">3</span>}/);\n  <span class=\"hljs-keyword\">while</span> (match) {\n    triples.<span class=\"hljs-built_in\">push</span>(match[<span class=\"hljs-number\">0</span>]);\n    temp = temp.replace(match[<span class=\"hljs-number\">0</span>], <span class=\"hljs-string\">\"\"</span>);\n    match = temp.match(/\\w{<span class=\"hljs-number\">3</span>}/)\n  }\n\n  <span class=\"hljs-built_in\">var</span> remaining = count.substr(triples.<span class=\"hljs-built_in\">join</span>(<span class=\"hljs-string\">\"\"</span>).<span class=\"hljs-built_in\">length</span>);\n  <span class=\"hljs-keyword\">if</span> (remaining.<span class=\"hljs-built_in\">length</span> == <span class=\"hljs-number\">2</span>) <span class=\"hljs-built_in\">float</span> = <span class=\"hljs-number\">6</span>;\n  <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (remaining.<span class=\"hljs-built_in\">length</span> == <span class=\"hljs-number\">1</span>) <span class=\"hljs-built_in\">float</span> = <span class=\"hljs-number\">3</span>;\n  <span class=\"hljs-built_in\">return</span> parseFloat([triples.<span class=\"hljs-built_in\">length</span>, <span class=\"hljs-built_in\">float</span>].<span class=\"hljs-built_in\">join</span>('.'));\n};\n</code></pre>\n"}