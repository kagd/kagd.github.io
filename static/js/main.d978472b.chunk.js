(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(49)},47:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(14);var c,l=function(){return r.createElement("div",{className:"loading"},r.createElement("span",null,"Loading..."))};function o(e){var t=e.match(/\d{4}\-\d{2}\-\d{2}/);return t?t[0]:"invalid date"}!function(e){e.ARTICLES_FETCH="ARTICLES_FETCH",e.ARTICLES_FETCH_RESPONSE="ARTICLES_FETCH_RESPONSE",e.ARTICLES_FETCH_ERROR="ARTICLES_FETCH_ERROR",e.ARTICLES_FETCH_ALL="ARTICLES_FETCH_ALL",e.ARTICLES_FETCH_ALL_RESPONSE="ARTICLES_FETCH_ALL_RESPONSE",e.ARTICLES_FETCH_ALL_ERROR="ARTICLES_FETCH_ALL_ERROR",e.AXIOS_ACTION="shared/middleware/axios",e.DIABLO_HERO_FETCH_ALL="DIABLO_HERO_FETCH_ALL",e.DIABLO_HERO_FETCH_ALL_RESPONSE="DIABLO_HERO_FETCH_ALL_RESPONSE",e.DIABLO_HERO_FETCH_ALL_ERROR="DIABLO_HERO_FETCH_ALL_ERROR"}(c||(c={}));var i,u=c;!function(e){e.NOT_STARTED="NOT_STARTED",e.LOADING="LOADING",e.DONE="DONE",e.ERROR="ERROR"}(i||(i={}));var E=i,s=n(4),f=n.n(s);function m(e){return{type:u.AXIOS_ACTION,payload:e}}var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},R={fetchStatus:E.NOT_STARTED},_=function(e){return e.fetchStatus===E.DONE||e.fetchStatus===E.ERROR};function h(e,t){switch(t.type){case u.ARTICLES_FETCH:return p({},e,{fetchStatus:E.LOADING});case u.ARTICLES_FETCH_RESPONSE:return p({},e,{article:t.data,fetchStatus:E.DONE});case u.ARTICLES_FETCH_ERROR:return p({},e,{fetchStatus:E.ERROR});default:return e}}function d(e){return m({url:e+".json",initActionType:u.ARTICLES_FETCH,successActionType:u.ARTICLES_FETCH_RESPONSE,failedActionType:u.ARTICLES_FETCH_ERROR})}var T=function(e,t,n){var r=t(n).payload,a=r.data,c=r.method,l=void 0===c?"get":c,o=r.url,i=r.initActionType,u=r.successActionType,E=r.failedActionType;e({type:i});var s={data:a,method:l,url:o};f.a.request(s).then(function(t){e({type:u,data:t.data})},function(t){e({type:E,data:a,error:t})})};var L=function(e){var t=r.useReducer(h,R),n=t[0],a=t[1];return r.useEffect(function(){e.location&&e.location.pathname&&T(a,d,e.location.pathname)},[e.location]),_(n)?n.article?r.createElement("article",{className:"blog-entry"},r.createElement("span",{className:"blog-entry-date"},o(n.article.date)),r.createElement("h1",{className:"blog-entry-title"},n.article.title),r.createElement("div",{className:"blog-entry-content",dangerouslySetInnerHTML:{__html:n.article.content}})):r.createElement("article",null,"There was an error retrieving article"):r.createElement(l,null)},A=n(2);var O=function(e){var t=e.article;return r.createElement("article",{key:t.title},r.createElement("h3",null,r.createElement(A.a,{to:t.id},t.title)),r.createElement("span",{className:"date"},o(t.date)))},S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},C={articles:{},fetchStatus:E.LOADING},v=function(e){return Object.keys(e.articles).map(function(t){return e.articles[t]})},g=function(e){return e.fetchStatus===E.DONE||e.fetchStatus===E.ERROR};function y(e,t){switch(t.type){case u.ARTICLES_FETCH_ALL:return S({},e,{fetchStatus:E.LOADING});case u.ARTICLES_FETCH_ALL_RESPONSE:var n=t.data.reduce(function(e,t){return e[t.id]=t,e},{});return S({},e,{articles:n,fetchStatus:E.DONE});case u.ARTICLES_FETCH_ALL_ERROR:return S({},e,{fetchStatus:E.ERROR});default:return e}}function w(){return m({url:"/articles/list.json",initActionType:u.ARTICLES_FETCH_ALL,successActionType:u.ARTICLES_FETCH_ALL_RESPONSE,failedActionType:u.ARTICLES_FETCH_ALL_ERROR})}var I=function(){var e=r.useReducer(y,C),t=e[0],n=e[1];r.useEffect(function(){T(n,w)},[]);var a=v(t);return r.createElement("section",{className:"article-list blog"},r.createElement("h2",null,"Blog"),!g(t)&&r.createElement(l,null),a.map(function(e){return r.createElement(O,{key:e.title,article:e})}))};var N=function(e){var t=new Date(e.article.pubDate);return r.createElement("article",{key:e.article.title},r.createElement("h3",null,r.createElement("a",{href:e.article.link,target:"_blank"},e.article.title)),r.createElement("span",{className:"date"},t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()),r.createElement("p",null,e.article.description))};var H,F=function(){var e=r.useState([]),t=e[0],n=e[1];return r.useEffect(function(){var e=["https://api.rss2json.com/v1/api.json?","rss_url="+encodeURIComponent("https://www.autosport.com/rss/feed/imsa"),"api_key=nlzxnnxh5caeaemhefqniyymygaowzk3002byhfh"];fetch(e.join("&")).then(function(e){return e.json()}).then(function(e){n(e.items)})},[]),r.createElement("section",{className:"article-list autosport"},r.createElement("h2",null,"IMSA - Autosport"),0===t.length&&r.createElement(l,null),t.map(function(e){return r.createElement(N,{key:e.title,article:e})}))},b=(H=function(e,t){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t}return b(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(){},t.prototype.render=function(){return this.state.hasError?r.createElement("h1",null,"Something went wrong."):this.props.children},t}(r.Component);var D=function(e){return r.createElement("div",{className:"home"},r.createElement(k,null,r.createElement(I,null)),r.createElement(k,null,r.createElement(F,null)))};var j=function(e){return r.createElement("div",null,r.createElement("h2",null,"My Bad"),r.createElement("p",null,"You have found a path that I didn't account for."),r.createElement(A.a,{to:"/"},"Home"))},P="?redirect=";var B=function(){return r.useEffect(function(){var e=window.location.search;0===e.indexOf(P)&&Object(A.c)(e.replace(""+P,""),{replace:!0})},[]),r.createElement("div",{className:"wrapper"},r.createElement("header",null,r.createElement("nav",null,r.createElement("ul",null,r.createElement("li",null,r.createElement(A.a,{to:"/"},r.createElement("span",null,"Grant R. Klinsing"))),r.createElement("li",null,r.createElement("a",{href:"http://github.com/kagd",target:"_blank"},r.createElement("span",null,"Github"))),r.createElement("li",null,r.createElement("a",{href:"http://twitter.com/gklinsing",target:"_blank"},r.createElement("span",null,"Twitter"))),r.createElement("li",null,r.createElement("a",{href:"https://www.linkedin.com/in/grantklinsing",target:"_blank"},r.createElement("span",null,"LinkedIn")))))),r.createElement("section",{className:"main",id:"main",role:"main"},r.createElement(A.b,null,r.createElement(D,{path:"/"}),r.createElement(L,{path:"/articles/*"}),r.createElement(j,{path:"*"}))))},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(47);a.render(r.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";G?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):x(e)})}}()}},[[16,2,1]]]);
//# sourceMappingURL=main.d978472b.chunk.js.map